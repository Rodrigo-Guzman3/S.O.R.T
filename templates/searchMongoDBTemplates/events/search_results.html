{% extends 'navbar.html' %}
{% block content %}
  <center>
    <!--If search Valid-->
    {% if searched %}

      <!--If search is a year-->
      <h1>You searched for "{{ searched }}"</h1>

      <!--List results as table reading from list-->
      <div class="row">
        {% for name,category,winner,film,mongoDBID in listToDisplay%}
          
            <div class="card" style="width: 18rem;">
              <div class="card-body">
                <h5 class="card-title">{{name}}</h5> <!--Display actor's name at top of card-->
                {% if film != "" %} <!--If film is not blank in the database, display a button to search the film, and display film-->
                  <p class="card-text">{{winner}} for "Best {{category}}" for their work in <i>{{film}}</i></p><!--Display Details of each card-->
                  <form method="POST" action="{% url 'search_results' %}"> <!--This button will open the IMDB Search Page for the user to look at the movie more deeply-->
                    {% csrf_token %}
                    <button class="btn btn-primary" name="searchInputFromNavbar" value="{{film}}">View Movie</button>
                  </form>
                {% else %}
                <p class="card-text">{{winner}} for "Best {{category}}" for an unknown work.</p><!--Display Details of each card-->
                {% endif %}
                <a href="#" class="btn btn-primary">Edit Database Entry</a><!--TO DO: This button will open the database entry edit menu-->
              </div>
            </div>
        {% endfor %}
      </div>

        
  
    <!-- If movie title-->
    {% elif Title %}
      <!--Display what was searched-->
      <h1>You searched for "{{ Title }}"</h1>
      <table style="border: 1px solid black; margin-top: 15px; width: 50%;">
        <thead>
          <tr>
            <th colspan="2" style="background-color: lightgray; padding: 10px; text-align: center;">OMDB Info</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th style="width: 30%; border: 1px solid black; padding: 5px;">Title</th>
            <td style="width: 70%; border: 1px solid black; padding: 5px;">{{ Title }}</td>
          </tr>
          <tr>
            <th style="width: 30%; border: 1px solid black; padding: 5px;">Year Released</th>
            <td style="width: 70%; border: 1px solid black; padding: 5px;">{{ Year }}</td>
          </tr>
          <tr>
            <th style="width: 30%; border: 1px solid black; padding: 5px;">Director(s)</th>
            <td style="width: 70%; border: 1px solid black; padding: 5px;">{{ Director }}</td>
          </tr>
          <tr>
            <th style="width: 30%; border: 1px solid black; padding: 5px;">Language</th>
            <td style="width: 70%; border: 1px solid black; padding: 5px;">{{ Language }}</td>
          </tr>
        </tbody>
      </table>

    <!--If The search was empty, invalid, or errored.-->
    {% else %}  
      <h1>Value not found</h1>
      <p>{{ errorReport }}</p>
    {% endif %}
  </center>
{% endblock %}